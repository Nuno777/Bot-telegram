import telebot
import requests

CHAVE_API="7371479271:AAE6ECs-iIzeo_VV4BWMTq3Cg1jIK_uUHZs"

bot = telebot.TeleBot(CHAVE_API)

# FunÃ§Ã£o para obter os preÃ§os das criptomoedas
def get_crypto_prices():
    url = "https://api.coingecko.com/api/v3/simple/price"
    params = {
        'ids': 'bitcoin,ethereum,usd-coin,litecoin,solana',
        'vs_currencies': 'usd'
    }
    response = requests.get(url, params=params)
    data = response.json()
    return data

@bot.message_handler(commands=["drops"])
def drops(mensagem):
    text = """
    Drops

    1 Drop - $80
    3 Drops - $190
    Drops Painel - $800"""
    bot.send_message(mensagem.chat.id, text)

@bot.message_handler(commands=["sn"])
def sn(mensagem):
    text = """
    Serial Numbers

    Bose
    Dyson
    Bissell
    Booster Juice
    GoPro
    HP
    Lenovo
    Logitech
    Ninja Kitchen
    Philips
    Playstation
    Kitchenaid"""
    bot.send_message(mensagem.chat.id, text)

@bot.message_handler(commands=["buy"])
def buy(mensagem):
    text = """
    Buy Services

    Serial Number - $5
    1 Drop - $80
    3 Drops - $190
    Drops Painel - $800
    """
    bot.send_message(mensagem.chat.id, text)

@bot.message_handler(commands=["show"])
def show(mensagem):
    text = """
    Our services

    Residential Drops USA/CA /drops
    Serial Number /sn"""
    bot.send_message(mensagem.chat.id, text)

@bot.message_handler(commands=["crypto"])
def crypto(mensagem):
    prices = get_crypto_prices()
    text = f"""
    Current cryptocurrency prices:
    - Bitcoin: ${prices['bitcoin']['usd']}
    - Ethereum: ${prices['ethereum']['usd']}
    - USD Coin: ${prices['usd-coin']['usd']}
    - Litecoin: ${prices['litecoin']['usd']}
    - Solana: ${prices['solana']['usd']}
    """
    bot.send_message(mensagem.chat.id, text)

@bot.message_handler(commands=["start"])
def start(mensagem):
    text = """
ðŸ’µ Welcome to ELPato Services

ELPato Services allows you to show some services that we offer for a certain cost, where you can buy them.

Buy the services /buy
Show services /show
Cryptocurrency prices /crypto

ðŸ‘¤ Support: @ElPato_Drops
    """
    bot.send_message(mensagem.chat.id, text)


# def verify(mensagem):
#     if mensagem.text == "/start":
#         return True
#     else:
#         return False

# @bot.message_handler(func=verify)
# def responder(mensagem):
#     text = """
#         Escolha uma opÃ§Ã£o para continuar (Clique no item):
#     /buy Comprar alguma coisa
#     /show Mostrar produtos
#     /crypto Ver preÃ§os das criptomoedas
#         """
#     bot.reply_to(mensagem, text)

bot.polling()
